"use strict";(self.webpackChunkliga_soccer=self.webpackChunkliga_soccer||[]).push([[420],{23271:(e,a,s)=>{s.r(a),s.d(a,{default:()=>y});var r=s(4659),l=s(65043),i=s(73216),o=s(35475),t=s(24858),n=s(5137),c=s(47503),d=s(98139),m=s.n(d),u=s(99798),p=s(68309),h=s(89308),f=s(91313),x=s(63178),g=s(38535),w=s(70579);const N=e=>{let{standalone:a=!0}=e;const{register:s,handleSubmit:r,formState:{errors:d,isValid:N},control:y,watch:j}=(0,t.mN)({mode:"onChange",defaultValues:{displayName:"",email:"",password:"",passwordConfirm:""}}),[b]=(0,g.PW)(),v=(0,i.Zp)(),C=(0,n.wA)(),S=a?l.Fragment:p.A,E=a?{}:{className:"card card-padded"},q=(0,l.useCallback)((async e=>{try{return(await b(e).unwrap()).data}catch(a){console.error("Failed to create profile:",a)}}),[b]);(0,l.useEffect)((()=>{const e=(0,h.hg)((async e=>{if(e)try{const a=await q({User_ID:e.uid,Email:e.email,Name:e.displayName});C((0,x.iD)(e)),C((0,x.ME)(a)),v("/dashboard")}catch(a){console.error("Failed to create profile:",a)}}));return()=>e()}),[C,q,v]);return(0,w.jsxs)(S,{...E,children:[(0,w.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,w.jsx)("h3",{children:"Create new account"}),(0,w.jsx)("p",{className:"text-12",children:"Fill out the form below to create a new account"})]}),(0,w.jsxs)("form",{onSubmit:r((async e=>{try{const a=(await(0,h.Wq)(e.email,e.password,e.displayName)).user,s=await q({User_ID:a.uid,Email:a.email,Name:a.displayName});C((0,x.iD)(a)),C((0,x.ME)(s)),c.oR.success(`Account created! Please check your email ${e.email} to confirm your account.`),v("/dashboard")}catch(a){c.oR.error(`Error creating account: ${a.message}`)}})),children:[(0,w.jsxs)("div",{className:"flex flex-col gap-5",style:{margin:"20px 0 30px"},children:[(0,w.jsx)("input",{className:m()("field",{"field--error":d.displayName}),type:"text",placeholder:"Display Name",...s("displayName",{required:"Display Name is required"})}),d.displayName&&(0,w.jsx)("p",{className:"error",children:d.displayName.message}),(0,w.jsx)("input",{className:m()("field",{"field--error":d.email}),type:"text",placeholder:"E-mail",...s("email",{required:"Email is required",pattern:{value:/^\S+@\S+$/i,message:"Invalid email address"}})}),d.email&&(0,w.jsx)("p",{className:"error",children:d.email.message}),(0,w.jsx)(t.xI,{control:y,name:"password",rules:{required:"Password is required"},render:e=>{let{field:{ref:a,onChange:s,value:r},fieldState:{error:l}}=e;return(0,w.jsx)(u.A,{className:m()("field",{"field--error":l}),value:r,onChange:e=>s(e.target.value),placeholder:"Password",innerRef:a})}}),d.password&&(0,w.jsx)("p",{className:"error",children:d.password.message}),(0,w.jsx)(t.xI,{control:y,name:"passwordConfirm",rules:{required:"Password confirmation is required",validate:e=>e===j("password")||"Passwords do not match"},render:e=>{let{field:{ref:a,onChange:s,value:r},fieldState:{error:l}}=e;return(0,w.jsx)(u.A,{className:m()("field",{"field--error":l}),value:r,onChange:e=>s(e.target.value),placeholder:"Confirm password",innerRef:a})}}),d.passwordConfirm&&(0,w.jsx)("p",{className:"error",children:d.passwordConfirm.message})]}),(0,w.jsxs)("div",{className:"flex justify-between items-center gap-4",children:[(0,w.jsx)("button",{type:"submit",className:"btn flex-1",disabled:!N,children:"Create account"}),(0,w.jsxs)("button",{onClick:async e=>{e.preventDefault();try{const e=(await(0,h.G6)()).user,a=await q({User_ID:e.uid,Email:e.email,Name:e.displayName});C((0,x.iD)(e)),C((0,x.ME)(a)),c.oR.success("Signed in with Google successfully!"),v("/dashboard")}catch(a){c.oR.error(`Failed to sign in with Google: ${a.message}`)}},className:"btn btn--google flex-1",children:[(0,w.jsx)("img",{src:f.A,alt:"Google Icon",style:{width:"20px"}}),"Sign up with Google"]})]})]}),(0,w.jsx)("div",{style:{marginTop:"20px"},children:(0,w.jsxs)("p",{className:"text-12",children:["Already have an account? ",(0,w.jsx)(o.N_,{to:"/login",children:"Sign in"})]})})]})},y=()=>(0,w.jsx)(r.A,{title:"Sign Up",children:(0,w.jsx)(N,{})})}}]);
//# sourceMappingURL=420.c9657486.chunk.js.map